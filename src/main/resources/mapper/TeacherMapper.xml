<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace = "com.zzuli.lesson.mapper.TeacherMapper">
	<!-- 获取所有教师信息列表 -->
	<select id="queryTeacher" resultType="java.util.Map">
		SELECT id,
		tea_num as teanNum ,
		tea_name as teaName ,
		tea_introduce as teaIntroduce ,
		pic_url as picUrl ,
		sort ,
		valid_sts_cd as validStsCd ,
		create_time as createTime ,
		modifield_time as modifieldTime 
		FROM less_teacher
	</select>
	<!-- 获取有效教师信息列表 -->
	<select id="queryValidTeacher" resultType="java.util.Map">
		SELECT id,
		tea_num as teanNum ,
		tea_name as teaName ,
		tea_introduce as teaIntroduce ,
		pic_url as picUrl ,
		sort ,
		valid_sts_cd as validStsCd ,
		create_time as createTime ,
		modifield_time as modifieldTime 
		FROM less_teacher
		WHERE valid_sts_cd = 1
	</select>
	<!-- 根据教师ID获取教师信息列表 -->
	<select id="queryTeadherById" resultType="java.util.Map">
		SELECT id,
		tea_num as teanNum ,
		tea_name as teaName ,
		tea_introduce as teaIntroduce ,
		pic_url as picUrl ,
		sort ,
		valid_sts_cd as validStsCd ,
		create_time as createTime ,
		modifield_time as modifieldTime 
		FROM less_teacher
		WHERE id = #{id}
	</select>
	<!-- 获取教师信息列表所有的信息数量 -->
	<select id="queryTeacherTotalCount"  resultType="java.lang.Integer">
	    SELECT count(id) 
	    FROM lessons  
	</select>
	<!-- 获取教师信息列表有效的信息数量 -->
	<select id="queryTeacherValidCount"  resultType="java.lang.Integer">
	    SELECT count(id) 
	    FROM lessons
	    WHERE valid_sts_cd = 1  
	</select>
	<!-- 添加教师信息 -->
	<insert id="insertTeacher">
		INSERT INTO less_teacher (tea_num , tea_name , tea_introduce , pic_url , summary ,create_time , less_category , valid_sts_cd)
		values(#{lessPicUrl} , #{lessName} , #{rank} , #{teaName} , 0 , #{summary} , now() , #{lessCategory} , 1 )
	</insert>
	
</mapper>